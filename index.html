<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="./css/style.css" />

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="">

    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- javascript  -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>

    <!-- Primary Meta Tags -->
<title>Login-SignUp Page</title>
<meta name="title" content="Login-SignUp Page">
<meta name="description" content="We are using localstorage , bootstrap ,HTML/CSS and javascript">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://metatags.io/">
<meta property="og:title" content="Login-SignUp Page">
<meta property="og:description" content="We are using localstorage , bootstrap ,HTML/CSS and javascript">
<meta property="og:image" content="https://i.postimg.cc/cK5kLPPG/maxresdefault.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://metatags.io/">
<meta property="twitter:title" content="Login-SignUp Page">
<meta property="twitter:description" content="We are using localstorage , bootstrap ,HTML/CSS and javascript">
<meta property="twitter:image" content="https://i.postimg.cc/cK5kLPPG/maxresdefault.jpg">



    <title>Sign-Up Form</title>
  </head>
  <body>
    <section class="vh-100 header1">
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-8 col-lg-6 col-xl-5">
            <div class="card bg-dark text-white" style="border-radius: 1rem">
              <div class="card-body p-5 text-center">
                <div class="mb-md-5 mt-md-4 pb-5">
                  <h2 class="fw-bold mb-2 text-uppercase">Login</h2>
                  <p class="text-white-50 mb-5">
                    Please Enter Your Login And Password
                  </p>
                  <div class="form-outline form-white mb-4">
                    <label class="form-label" for="email">Email</label>
                    <input
                      type="email"
                      id="email"
                      class="form-control form-control-lg"
                    />
                  </div>

                  <div class="form-outline form-white mb-4 ">
                    <label class="form-label" for="typePasswordX"
                      >Password</label
                    >
                    <input
                      type="password"
                      id="mypass"
                      class="form-control form-control-lg eyes1"
                    />

                    <span class="for-eye"><img
                      class="eyes"
                      id="icon"
                      onclick="tap()"
                      src="./img/eyes.png"
                      alt=""
                    />
                  </span>

                  </div>
                  <button 
                  onclick="loginUser()"
                    class="btn btn-outline-light btn-lg px-5"
                    
                    type="submit"
                  >
                    Login
                  </button>

                <div class="d-flex justify-content-center text-center mt-4 pt-1">
                  <p class="mb-0">
                    Don't have an account?
                    <a  href="./register.html" class="text-white-50 fw-bold"
                      >Sign Up</a
                    >
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      var icon = document.getElementById("icon");
      var mypass = document.getElementById("mypass");
      icon.addEventListener("click", () => {
        console.log("im here......");
        if (mypass.type === "text") {
          mypass.type = "password";
        } else {
          mypass.type = "text";
        }
      });

      // *************

      function login(){
        let data = window.localStorage.getItem("data")
          ? JSON.parse(window.localStorage.getItem("data"))
          : [];
        let formData = {
          "email":document.getElementById("email").value,
          "mypass":document.getElementById("mypass").value,
        };
        data.push(formData);
        console.log(formData);
        // console.log(document.getElementById("email").value);

        if (window.localStorage) {
          window.localStorage.setItem("data", JSON.stringify(data));
        }
      }

    function loginUser(){
      // event.preventDefault();
      // location.reload();
    let loginEmail = document.getElementById("email").value;
    let loginPass =  document.getElementById("mypass").value;
    let matchEmail = JSON.parse(localStorage.getItem("data"));
    let emailArray =[];
    let passArray=[];
    let result = matchEmail.map((email, i, matchEmail) =>{
    
       emailArray.push(matchEmail[i].email);
       passArray.push(matchEmail[i].password);
    });
   console.log(emailArray);
    if(emailArray.indexOf(loginEmail) > -1 && passArray.indexOf(loginPass) > -1){
       alert("You have sucsessfuly loged in");
    }else{  
        alert("You have no registered with us");    
    }
  }
    </script>
  </body>
</html>
